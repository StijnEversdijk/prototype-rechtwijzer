!function($){"use strict";var n="animsition",a={init:function(i){i=$.extend({inClass:"fade-in",outClass:"fade-out",inDuration:1500,outDuration:800,linkElement:".animsition-link",loading:!0,loadingParentElement:"body",loadingClass:"animsition-loading",unSupportCss:["animation-duration","-webkit-animation-duration","-o-animation-duration"],overlay:!1,overlayClass:"animsition-overlay-slide",overlayParentElement:"body"},i);var t=a.supportCheck.call(this,i);if(!t)return"console"in window||(window.console={},window.console.log=function(n){return n}),console.log("Animsition does not support this browser."),a.destroy.call(this);var o=a.optionCheck.call(this,i);return o&&a.addOverlay.call(this,i),i.loading&&a.addLoading.call(this,i),this.each(function(){var t=this,o=$(this),e=$(window),s=o.data(n);s||(i=$.extend({},i),o.data(n,{options:i}),e.on("load."+n+" pageshow."+n,function(){a.pageIn.call(t)}),e.on("unload."+n,function(){}),$(i.linkElement).on("click."+n,function(n){n.preventDefault();var i=$(this),o=i.attr("href");2===n.which||n.metaKey||n.shiftKey||-1!==navigator.platform.toUpperCase().indexOf("WIN")&&n.ctrlKey?window.open(o,"_blank"):a.pageOut.call(t,i,o)}))})},addOverlay:function(n){$(n.overlayParentElement).prepend('<div class="'+n.overlayClass+'"></div>')},addLoading:function(n){$(n.loadingParentElement).append('<div class="'+n.loadingClass+'"></div>')},removeLoading:function(){var a=$(this),i=a.data(n).options,t=$(i.loadingParentElement).children("."+i.loadingClass);t.fadeOut().remove()},supportCheck:function(n){var a=$(this),i=n.unSupportCss,t=i.length,o=!1;0===t&&(o=!0);for(var e=0;t>e;e++)if("string"==typeof a.css(i[e])){o=!0;break}return o},optionCheck:function(n){var a=$(this),i;return i=n.overlay||a.data("animsition-overlay")?!0:!1},animationCheck:function(a,i,t){var o=$(this),e=o.data(n).options,s=typeof a,l=!i&&"number"===s,r=i&&"string"===s&&a.length>0;return l||r?a=a:i&&t?a=e.inClass:!i&&t?a=e.inDuration:i&&!t?a=e.outClass:i||t||(a=e.outDuration),a},pageIn:function(){var i=this,t=$(this),o=t.data(n).options,e=t.data("animsition-in-duration"),s=t.data("animsition-in"),l=a.animationCheck.call(i,e,!1,!0),r=a.animationCheck.call(i,s,!0,!0),c=a.optionCheck.call(i,o);o.loading&&a.removeLoading.call(i),c?a.pageInOverlay.call(i,r,l):a.pageInBasic.call(i,r,l)},pageInBasic:function(n,a){var i=$(this);i.trigger("animsition.start").css({"animation-duration":a/1e3+"s"}).addClass(n).animateCallback(function(){i.removeClass(n).css({opacity:1}).trigger("animsition.end")})},pageInOverlay:function(a,i){var t=$(this),o=t.data(n).options;t.trigger("animsition.start").css({opacity:1}),$(o.overlayParentElement).children("."+o.overlayClass).css({"animation-duration":i/1e3+"s"}).addClass(a).animateCallback(function(){t.trigger("animsition.end")})},pageOut:function(i,t){var o=this,e=$(this),s=e.data(n).options,l=i.data("animsition-out"),r=e.data("animsition-out"),c=i.data("animsition-out-duration"),d=e.data("animsition-out-duration"),u=l?l:r,m=c?c:d,h=a.animationCheck.call(o,u,!0,!1),p=a.animationCheck.call(o,m,!1,!1),v=a.optionCheck.call(o,s);v?a.pageOutOverlay.call(o,h,p,t):a.pageOutBasic.call(o,h,p,t)},pageOutBasic:function(n,a,i){var t=$(this);t.css({"animation-duration":a/1e3+"s"}).addClass(n).animateCallback(function(){location.href=i})},pageOutOverlay:function(i,t,o){var e=this,s=$(this),l=s.data(n).options,r=s.data("animsition-in"),c=a.animationCheck.call(e,r,!0,!0);$(l.overlayParentElement).children("."+l.overlayClass).css({"animation-duration":t/1e3+"s"}).removeClass(c).addClass(i).animateCallback(function(){location.href=o})},destroy:function(){return this.each(function(){var a=$(this);$(window).unbind("."+n),a.css({opacity:1}).removeData(n)})}};$.fn.animateCallback=function(n){var a="animationend webkitAnimationEnd mozAnimationEnd oAnimationEnd MSAnimationEnd";return this.each(function(){$(this).bind(a,function(){return $(this).unbind(a),n.call(this)})})},$.fn.animsition=function(i){return a[i]?a[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void $.error("Method "+i+" does not exist on jQuery."+n):a.init.apply(this,arguments)}}(jQuery);